"use strict";angular.module("vision.utils",[]).factory("VsArrayUtils",["VsUtil","VsBeanUtils",function(a,b){var c=function(){};return c.getValueOfLabelField=function(a,b,d,e){if(null!=e){var f=c.getItemByPropertyValue(a,d,e);return c.evaluate(f,b)}return null},c.getItemByPropertyValue=function(a,b,d){var e=c.getItemIndexByPropertyValue(a,b,d);return-1==e?null:a[e]},c.getItemIndexByPropertyValue=function(c,d,e){if(a.isFilled(e)&&null!=c)for(var f,g,h=0;h<c.length;h++)if(g=c[h],f=b.evaluate(g,d),f=null!=f?VsStringUtils.retiraAcentosEEspacos(String(f).toLowerCase()):null,e=VsStringUtils.retiraAcentosEEspacos(String(e).toLowerCase()),f==e)return h;return-1},c}]).factory("VsUtil",[function(){var a=function(){};return a.isFilled=function(a){return null!=a&&(a=a.toString()),null!=a&&""!=a&&" "!=a&&"null"!=a&&"NaN"!=a&&"undefined"!=a},a}]).factory("VsStringUtils",[function(){var a=function(){},b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,c=function(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")};return a.replaceAll=function(a,b,d){return a.replace(new RegExp(c(b),"g"),d)},a.retiraAcentosEEspacos=function(b){return a.retiraAcentos(b).replace(" ","")},a.retiraAcentos=function(a){return a=a.replace("á","a"),a=a.replace("é","e"),a=a.replace("í","i"),a=a.replace("ó","o"),a=a.replace("ú","u"),a=a.replace("Á","A"),a=a.replace("É","E"),a=a.replace("Í","I"),a=a.replace("Ó","O"),a=a.replace("Ú","U"),a=a.replace("â","a"),a=a.replace("ê","e"),a=a.replace("î","i"),a=a.replace("ô","o"),a=a.replace("û","u"),a=a.replace("Â","A"),a=a.replace("Ê","E"),a=a.replace("Î","I"),a=a.replace("Ô","O"),a=a.replace("Û","U"),a=a.replace("ã","a"),a=a.replace("õ","o"),a=a.replace("Ã","A"),a=a.replace("Õ","O"),a=a.replace("ç","c"),a=a.replace("Ç","C"),a=a.replace("ü","u"),a=a.replace("Ü","U"),a=a.replace("à","a"),a=a.replace("è","e"),a=a.replace("ì","i"),a=a.replace("ò","o"),a=a.replace("ù","u"),a=a.replace("À","A"),a=a.replace("È","E"),a=a.replace("Ì","I"),a=a.replace("Ò","O"),a=a.replace("Ù","U")},a.isValidEmail=function(a){return b.test(a)},a}]).factory("VsBeanUtils",[function(){var a=function(){};return a.replaceAll=function(a,b){if(void 0!=b&&void 0!=a)for(var c in b)b[c]instanceof Array?a[c]=b[c].slice(0):null!=b[c]&&"object"==typeof b[c]?((null==a[c]||void 0==a[c])&&(a[c]={}),this.replaceAll(a[c],b[c])):a[c]=b[c]},a.replaceValue=function(a,b,c){var d=b.split("."),e=d.pop(),f=a;for(var g in d)f=f[d[g]],(null==f||void 0==f)&&(f={});f[e]=c},a.evaluate=function(a,b){var c=b.split("."),d=a;for(var e in c)null!=d&&(d=d[c[e]]);return d},a}]),angular.module("vision.event",["vision.utils"]).factory("VisionEventDispatcher",["VsArrayUtils","$filter","$q",function(a,b,c){var d=function(){var d={};this.listen=function(a,b,c){angular.isDefined(c)||(c=0),null==d[a]&&(d[a]=[]);for(var e=!1,f=0;f<d[a].length;f++)if(d[a][f].resultHandler==b){e=!0;break}e||d[a].push({type:a,resultHandler:b,priority:c})},this.removeListener=function(b,c){var e=a.getItemIndexByPropertyValue(d[b],"resultHandler",c);e>0&&d[b].splice(e,1)},this.removeAllListeners=function(a){a?delete d[a]:d={}},this.dispatch=function(a){a.target=this;var e=d[a.type];e=b("orderBy")(e,"priority",!0);var f=!1,g=[];return angular.forEach(e,function(b){if(!f){var c=b.resultHandler(a);angular.isDefined(c)&&"function"==typeof c.then&&g.push(c),f=a.stopped}}),c.all(g).then(function(a){return a[0]})}};return d}]);var VisionEvent=function(a,b){this.type=a,this.resultObject=b,this.target=void 0,this.stopped=!1,this.stopPropagation=function(){this.stopped=!0}};